class: middle, center, title-slide 
<br>
# –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—ñ–Ω–≥—É & —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å

–õ–µ–∫—Ü—ñ—è 5: –ü–∞–º'—è—Ç—å —Ç–∞ –º—ñ—Å—Ü–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

<br><br>
–ö–æ—á—É—Ä–∞ –Æ—Ä—ñ–π –ü–µ—Ç—Ä–æ–≤–∏—á<br>
[iuriy.kochura@gmail.com](mailto:iuriy.kochura@gmail.com) <br>
<a href="https://t.me/y_kochura">@y_kochura</a> <br>

???
–ü–∞–º'—è—Ç—å —ñ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —î –≤–∞–∂–ª–∏–≤–∏–º–∏ –ø–æ–Ω—è—Ç—Ç—è–º–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—ñ GPU CUDA. –©–æ–± –¥–æ—Å—è–≥—Ç–∏ –≤–∏—Å–æ–∫–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è GPU, –≤–∞–∂–ª–∏–≤–æ –∑–≤–µ—Å—Ç–∏ –¥–æ –º—ñ–Ω—ñ–º—É–º—É –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–∏—Ö –º—ñ–∂ —Ö–æ—Å—Ç–æ–º (CPU) —ñ –ø—Ä–∏—Å—Ç—Ä–æ—î–º (GPU), –∞ —Ç–∞–∫–æ–∂ –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –¥–∞–Ω—ñ, –¥–æ —è–∫–∏—Ö –æ—Ç—Ä–∏–º—É—î –¥–æ—Å—Ç—É–ø –ø–æ—Ç—ñ–∫, –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –Ω–∞–π–±–ª–∏–∂—á–∏—Ö –º—ñ—Å—Ü—è—Ö –ø–∞–º‚Äô—è—Ç—ñ.

–ü–∞–º'—è—Ç—å —É GPU CUDA –ø–æ–¥—ñ–ª—è—î—Ç—å—Å—è –Ω–∞ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏, –≤–∫–ª—é—á–∞—é—á–∏ –≥–ª–æ–±–∞–ª—å–Ω—É –ø–∞–º'—è—Ç—å, —Å–ø—ñ–ª—å–Ω—É –ø–∞–º'—è—Ç—å —ñ —Ä–µ–≥—ñ—Å—Ç—Ä–∏. –ì–ª–æ–±–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å ‚Äî —Ü–µ –Ω–∞–π–±—ñ–ª—å—à–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä –ø–∞–º'—è—Ç—ñ, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –¥–æ —è–∫–∏—Ö –º–∞—é—Ç—å –¥–æ—Å—Ç—É–ø —É—Å—ñ –ø–æ—Ç–æ–∫–∏ –≤ —è–¥—Ä—ñ. –°–ø—ñ–ª—å–Ω–∞ –ø–∞–º‚Äô—è—Ç—å ‚Äî —Ü–µ –º–µ–Ω—à–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä –ø–∞–º‚Äô—è—Ç—ñ, —è–∫–∏–π —Å–ø—ñ–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏ –≤ –º–µ–∂–∞—Ö –±–ª–æ–∫—É –ø–æ—Ç–æ–∫—ñ–≤ —ñ –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö. –†–µ–≥—ñ—Å—Ç—Ä–∏ ‚Äî —Ü–µ –Ω–µ–≤–µ–ª–∏–∫—ñ —à–≤–∏–¥–∫—ñ –ø—Ä–æ—Å—Ç–æ—Ä–∏ –ø–∞–º‚Äô—è—Ç—ñ, —è–∫—ñ –≤–∏–¥—ñ–ª—è—é—Ç—å—Å—è –∫–æ–∂–Ω–æ–º—É –ø–æ—Ç–æ–∫—É –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö.

–õ–æ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ —Ç–µ–Ω–¥–µ–Ω—Ü—ñ—ó –ø–æ—Ç–æ–∫—ñ–≤ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å—É—Å—ñ–¥–Ω—ñ—Ö –¥—ñ–ª—è–Ω–æ–∫ –ø–∞–º'—è—Ç—ñ. –ü–µ—Ä–µ–∫–æ–Ω–∞–≤—à–∏—Å—å, —â–æ –¥–∞–Ω—ñ, –¥–æ —è–∫–∏—Ö –æ—Ç—Ä–∏–º—É—î –¥–æ—Å—Ç—É–ø –ø–æ—Ç—ñ–∫, –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –Ω–∞–π–±–ª–∏–∂—á–∏—Ö –º—ñ—Å—Ü—è—Ö –ø–∞–º‚Äô—è—Ç—ñ, –º–æ–∂–Ω–∞ –∑–º–µ–Ω—à–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–≤–µ—Ä–Ω–µ–Ω—å –¥–æ –ø–∞–º‚Äô—è—Ç—ñ —Ç–∞ —Ç–∞–∫–∏–º —á–∏–Ω–æ–º –ø—ñ–¥–≤–∏—â–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å. –¶—å–æ–≥–æ –º–æ–∂–Ω–∞ –¥–æ—Å—è–≥—Ç–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–ø—ñ–ª—å–Ω—É –ø–∞–º'—è—Ç—å –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –¥–æ —è–∫–∏—Ö —á–∞—Å—Ç–æ –∑–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è –ø–æ—Ç–æ–∫–∏ –≤ –±–ª–æ—Ü—ñ. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–ø—ñ–ª—å–Ω—É –ø–∞–º'—è—Ç—å, –ø–æ—Ç–æ–∫–∏ –º–æ–∂—É—Ç—å –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –¥–æ–≤–≥–æ—Ç—Ä–∏–≤–∞–ª–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –≥–ª–æ–±–∞–ª—å–Ω–æ—ó –ø–∞–º'—è—Ç—ñ.

---


class: middle

# –°—å–æ–≥–æ–¥–Ω—ñ

–ú–µ—Ç–∞ &mdash; –Ω–∞–≤—á–∏—Ç–∏—Å—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –ø–∞–º'—è—Ç—ñ CUDA —É –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–º—É –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—ñ

- –í–∞–∂–ª–∏–≤—ñ—Å—Ç—å –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–∞–º'—è—Ç—ñ
- –†–µ–≥—ñ—Å—Ç—Ä–∏, c–ø—ñ–ª—å–Ω–∞ (shared) –ø–∞–º'—è—Ç—å, –≥–ª–æ–±–∞–ª—å–Ω–∞ (global) –ø–∞–º'—è—Ç—å
- –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ —Ç–∞ —á–∞—Å –∂–∏—Ç—Ç—è 

???
–ó–∞–≥–∞–ª–æ–º –ø–∞–º‚Äô—è—Ç—å —ñ –ª–æ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö —î –≤–∞–∂–ª–∏–≤–∏–º–∏ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è–º–∏, —è–∫—ñ —Å–ª—ñ–¥ —Ä–æ–∑—É–º—ñ—Ç–∏ –ø—ñ–¥ —á–∞—Å –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å–æ—Ä—ñ–≤ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º CUDA. –ú—ñ–Ω—ñ–º—ñ–∑—É—é—á–∏ –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–∏—Ö –º—ñ–∂ —Ö–æ—Å—Ç–æ–º —ñ –ø—Ä–∏—Å—Ç—Ä–æ—î–º —ñ –æ–ø—Ç–∏–º—ñ–∑—É—é—á–∏ –ª–æ–∫–∞–ª—å–Ω—ñ—Å—Ç—å (–∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è) –¥–∞–Ω–∏—Ö, –º–æ–∂–Ω–∞ –¥–æ—Å—è–≥—Ç–∏ –±—ñ–ª—å—à –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏—Ö –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å –Ω–∞ GPU.

---


class: middle,

# –©–æ —Ç–∞–∫–µ –ø–∞–º'—è—Ç—å?

.center.width-80[![](figures/lec5/mem.png)]

???
–ü–∞–º'—è—Ç—å –∫–æ–º–ø'—é—Ç–µ—Ä–∞ - —Ü–µ –ø—Ä–∏—Å—Ç—Ä—ñ–π –∞–±–æ —Å–∏—Å—Ç–µ–º–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, —è–∫—ñ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π, —è–∫—ñ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –ø—Ä–æ—Ü–µ—Å–æ—Ä–æ–º –∫–æ–º–ø'—é—Ç–µ—Ä–∞. –¶—è –ø–∞–º'—è—Ç—å –º–æ–∂–µ –±—É—Ç–∏ —Ñ—ñ–∑–∏—á–Ω–æ—é (—Ç–∞–∫–æ—é —è–∫ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ –ø–∞–º'—è—Ç—å –∞–±–æ –∂–æ—Ä—Å—Ç–∫–∏–π –¥–∏—Å–∫) –∞–±–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ—é (—Ç–∞–∫–æ—é —è–∫ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å).


–í –æ—Å–Ω–æ–≤—ñ —Ä–æ–±–æ—Ç–∏ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –º–æ–∂–µ –ª–µ–∂–∞—Ç–∏ –±—É–¥—å-—è–∫–∏–π —Ñ—ñ–∑–∏—á–Ω–∏–π –µ—Ñ–µ–∫—Ç, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –¥–æ –¥–≤–æ—Ö –∞–±–æ –∫—ñ–ª—å–∫–æ—Ö —Å—Ç—ñ–π–∫–∏—Ö —Å—Ç–∞–Ω—ñ–≤. –£ —Å—É—á–∞—Å–Ω–∏—Ö –∫–æ–º–ø'—é—Ç–µ—Ä–∞—Ö —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ñ—ñ–∑–∏—á–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –Ω–∞–ø—ñ–≤–ø—Ä–æ–≤—ñ–¥–Ω–∏–∫—ñ–≤, –∫–æ–ª–∏ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Å—Ç—Ä—É–º—É —á–µ—Ä–µ–∑ –Ω–∞–ø—ñ–≤–ø—Ä–æ–≤—ñ–¥–Ω–∏–∫ –∞–±–æ –π–æ–≥–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ç—Ä–∞–∫—Ç—É—î—Ç—å—Å—è —è–∫ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ª–æ–≥—ñ—á–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤ 0 –∞–±–æ 1. –°—Ç—ñ–π–∫—ñ —Å—Ç–∞–Ω–∏, —â–æ –≤–∏–∑–Ω–∞—á–∞—é—Ç—å—Å—è –Ω–∞–ø—Ä—è–º–∫–æ–º –Ω–∞–º–∞–≥–Ω—ñ—á–µ–Ω–æ—Å—Ç—ñ, –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ –º–∞–≥–Ω—ñ—Ç–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏. –ù–∞—è–≤–Ω—ñ—Å—Ç—å –∞–±–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∑–∞—Ä—è–¥—É –≤ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ñ —Ç–∞–∫–æ–∂ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ–∫–ª–∞–¥–µ–Ω–∞ –≤ –æ—Å–Ω–æ–≤—É —Å–∏—Å—Ç–µ–º–∏ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.

–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ –ø–∞–º'—è—Ç—å (RAM) - —Ü–µ —Ç–∏–ø –ø–∞–º'—è—Ç—ñ, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î —à–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –ø—Ä–æ—Ü–µ—Å–æ—Ä–æ–º —É –ø–æ—Ç–æ—á–Ω–∏–π –º–æ–º–µ–Ω—Ç. –í–æ–Ω–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–∞ —á–∏–ø–∞—Ö, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Ä–æ–∑–º—ñ—â–µ–Ω—ñ –Ω–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å—å–∫—ñ–π –ø–ª–∞—Ç—ñ –∫–æ–º–ø'—é—Ç–µ—Ä–∞ –∞–±–æ –≤ –º–æ–¥—É–ª—è—Ö –ø–∞–º'—è—Ç—ñ.


–ñ–æ—Ä—Å—Ç–∫–∏–π –¥–∏—Å–∫ - —Ü–µ —Ç–∏–ø –ø–∞–º'—è—Ç—ñ, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ –Ω–∞ –º–∞–≥–Ω—ñ—Ç–Ω–∏—Ö –¥–∏—Å–∫–∞—Ö, —è–∫—ñ –∑–∞–∑–≤–∏—á–∞–π –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ –≤ –∫–æ–º–ø'—é—Ç–µ—Ä—ñ. –í–æ–Ω–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –¥–æ–≤–≥–æ—Ç—Ä–∏–≤–∞–ª–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, —è–∫—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è –≤–∏–º–∫–Ω–µ–Ω–Ω—è –∫–æ–º–ø'—é—Ç–µ—Ä–∞.

–í—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å - —Ü–µ –º–µ—Ö–∞–Ω—ñ–∑–º, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∫–æ–º–ø'—é—Ç–µ—Ä—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —á–∞—Å—Ç–∏–Ω—É –∂–æ—Ä—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞ —è–∫ –¥–æ–¥–∞—Ç–∫–æ–≤—É –ø–∞–º'—è—Ç—å, —è–∫–∞ –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è, –∫–æ–ª–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞ –ø–∞–º'—è—Ç—å –∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –±—ñ–ª—å—à—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—ó –ø–∞–º'—è—Ç—ñ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É –±—ñ–ª—å—à–∏—Ö –æ–±—Å—è–≥—ñ–≤ –¥–∞–Ω–∏—Ö.

---


class: middle,

# –ê–¥—Ä–µ—Å–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä –ø—Ä–æ–≥—Ä–∞–º–∏

.grid[
.smaller-x.kol-3-4[
- –ü–∞–º'—è—Ç—å –∫–æ–º–ø'—é—Ç–µ—Ä–∞ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–∞ —è–∫ –º–∞—Å–∏–≤ –±–∞–π—Ç—ñ–≤
- –ö–æ–∂–µ–Ω –±–∞–π—Ç —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—î—Ç—å—Å—è –∑–∞ –∞–¥—Ä–µ—Å–æ—é –≤ –ø–∞–º'—è—Ç—ñ 

**–ó–∞ –∞–¥—Ä–µ—Å–æ—é 0—Ö8 –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–Ω—è 32**

**–ó–∞ –∞–¥—Ä–µ—Å–æ—é 0—Ö10 –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–Ω—è 128**

]
.smaller-x.kol-1-4[
.center.width-90[![](figures/lec5/address.png)]
]
]

.footnote[–î–∂–µ—Ä–µ–ª–æ —Å–ª–∞–π–¥—É:  Stanford CS149, Fall 2022 PARALLEL COMPUTING [A Modern Multi-Core Processor](https://gfxcourses.stanford.edu/cs149/fall22/lecture/multicorearch/slide_50)]

---


class: middle,

# –î–æ—Å—Ç—É–ø –¥–æ –ø–∞–º'—è—Ç—ñ

.center.width-50[![](figures/lec5/figure6.png)]

.footnote[–î–∂–µ—Ä–µ–ª–æ —Å–ª–∞–π–¥—É: [Introduction to GPGPU and CUDA Programming: Memory Architecture ](https://cvw.cac.cornell.edu/gpu/memory_arch)]

???
[–ü—Ä–∏—Å—Ç—Ä—ñ–π CUDA (GPU)](https://cvw.cac.cornell.edu/gpu/memory_arch) –º–∞—î –Ω–∏–∑–∫—É —Ä—ñ–∑–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –ø–∞–º‚Äô—è—Ç—ñ, —è–∫—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç–∞–º ‚Äì —Ä–µ–≥—ñ—Å—Ç—Ä, —Å–ø—ñ–ª—å–Ω–∞ –ø–∞–º‚Äô—è—Ç—å, –ª–æ–∫–∞–ª—å–Ω–∞ –ø–∞–º‚Äô—è—Ç—å, –≥–ª–æ–±–∞–ª—å–Ω–∞ –ø–∞–º‚Äô—è—Ç—å —ñ –ø–æ—Å—Ç—ñ–π–Ω–∞ –ø–∞–º‚Äô—è—Ç—å. –ù–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—ñ –ø–æ–∫–∞–∑–∞–Ω–æ, —è–∫ –ø–æ—Ç–æ–∫–∏ –≤ –ø—Ä–∏—Å—Ç—Ä–æ—ó CUDA –º–æ–∂—É—Ç—å –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Ä—ñ–∑–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –ø–∞–º‚Äô—è—Ç—ñ. –£ CUDA –ª–∏—à–µ –ø–æ—Ç–æ–∫–∏ —Ç–∞ —Ö–æ—Å—Ç –º–æ–∂—É—Ç—å –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –ø–∞–º‚Äô—è—Ç—ñ.

–¢—É—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –æ–¥–Ω–æ- —Ç–∞ –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—ñ —Å—Ç—Ä—ñ–ª–∫–∏, —â–æ–± –ø–æ–∑–Ω–∞—á–∏—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —á–∏—Ç–∞–Ω–Ω—è (R) —ñ –∑–∞–ø–∏—Å—É (W). –°—Ç—Ä—ñ–ª–∫–∞, —â–æ –≤–∫–∞–∑—É—î –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–∞–º‚Äô—è—Ç—ñ –ø–æ–∑–Ω–∞—á–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–ø–∏—Å—É; —Å—Ç—Ä—ñ–ª–∫–∞, —â–æ –≤–∫–∞–∑—É—î –≤—ñ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–∞–º'—è—Ç—ñ, –ø–æ–∑–Ω–∞—á–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —á–∏—Ç–∞–Ω–Ω—è. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≥–ª–æ–±–∞–ª—å–Ω—É –ø–∞–º‚Äô—è—Ç—å —ñ –ø–æ—Å—Ç—ñ–π–Ω—É –ø–∞–º‚Äô—è—Ç—å –º–æ–∂–Ω–∞ —á–∏—Ç–∞—Ç–∏ (R) –∞–±–æ –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ (W).

–ù–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó CUDA –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —è–¥–µ—Ä. –ö–æ–∂–Ω–µ —è–¥—Ä–æ —î –Ω–µ–∑–∞–ª–µ–∂–Ω–æ—é —Å—ñ—Ç–∫–æ—é, —â–æ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –æ–¥–Ω–æ–≥–æ –∞–±–æ –∫—ñ–ª—å–∫–æ—Ö –±–ª–æ–∫—ñ–≤. –ö–æ–∂–µ–Ω –±–ª–æ–∫ –º–∞—î –≤–ª–∞—Å–Ω—É —Å–ø—ñ–ª—å–Ω—É –ø–∞–º'—è—Ç—å –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –±–ª–æ–∫—É, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–ø—ñ–ª—å–Ω–æ –º—ñ–∂ –ø–æ—Ç–æ–∫–∞–º–∏ –≤ —Ü—å–æ–º—É –±–ª–æ—Ü—ñ. –£—Å—ñ –ø–æ—Ç–æ–∫–∏ –º–æ–∂—É—Ç—å –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø (R/W) –¥–æ —Ä—ñ–∑–Ω–∏—Ö —á–∞—Å—Ç–∏–Ω –ø–∞–º‚Äô—è—Ç—ñ –ø—Ä–∏—Å—Ç—Ä–æ—é.

–ó–∞–≥–∞–ª–æ–º –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ö–æ—Å—Ç –¥–ª—è:
- –ü–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö —É/–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ—ó –ø–∞–º'—è—Ç—ñ
- –ü–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö —É/–∑ –ø–æ—Å—Ç—ñ–π–Ω–æ—ó –ø–∞–º'—è—Ç—ñ


–ö–æ–ª–∏ –¥–∞–Ω—ñ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ –ø–∞–º‚Äô—è—Ç—ñ –ø—Ä–∏—Å—Ç—Ä–æ—é, –Ω–∞—à—ñ –ø–æ—Ç–æ–∫–∏ –º–æ–∂—É—Ç—å —á–∏—Ç–∞—Ç–∏ —Ç–∞ –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ (R/W) —Ä—ñ–∑–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏ –ø–∞–º‚Äô—è—Ç—ñ:
- –†–µ–≥—ñ—Å—Ç—Ä R/W –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É
- –õ–æ–∫–∞–ª—å–Ω—É –ø–∞–º'—è—Ç—ñ R/W –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É
- –°–ø—ñ–ª—å–Ω—É –ø–∞–º'—è—Ç—å R/W –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –±–ª–æ–∫—É
- –ì–ª–æ–±–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å R/W –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å—ñ—Ç–∫–∏
- –ü–æ—Å—Ç—ñ–π–Ω—É –ø–∞–º'—è—Ç—å R –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å—ñ—Ç–∫–∏ 

---


class: middle

# –†—ñ–≤–Ω—ñ –ø–∞–º'—è—Ç—ñ

.center.width-70[![](figures/lec5/GPUMemLevels.png)]
.center.smaller-x.width-70[I—î—Ä–∞—Ä—Ö—ñ—è –ø–∞–º‚Äô—è—Ç—ñ –≤ Tesla V100]

.footnote[–î–∂–µ—Ä–µ–ª–æ —Å–ª–∞–π–¥—É: [Understanding GPU Architecture: Memory Levels](https://cvw.cac.cornell.edu/GPUarch/memory_levels)]

???

–¢–∞–∫ —Å–∞–º–æ, —è–∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –ø—Ä–æ—Ü–µ—Å–æ—Ä, –≥—Ä–∞—Ñ—ñ—á–Ω–∏–π –ø—Ä–æ—Ü–µ—Å–æ—Ä –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—é –ø–∞–º‚Äô—è—Ç—ñ, —â–æ–± –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –π–æ–≥–æ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –æ–±—Ä–æ–±–∫–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å—Å—è –¥–∞–Ω–∏–º–∏, –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ—Ä–∏—Å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏. –Ü —Ç–∞–∫ —Å–∞–º–æ, —è–∫ —è–¥—Ä–∞ –≤ –¶–ü, –ø–æ—Ç–æ–∫–æ–≤—ñ –º—É–ª—å—Ç–∏–ø—Ä–æ—Ü–µ—Å–æ—Ä–∏ (SM) —É GPU –≤–∏–º–∞–≥–∞—é—Ç—å, —â–æ–± –¥–∞–Ω—ñ –±—É–ª–∏ –≤ —Ä–µ–≥—ñ—Å—Ç—Ä–∞—Ö –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ –¥–ª—è –æ–±—á–∏—Å–ª–µ–Ω—å.

–ü–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ —è–¥—Ä–æ–º –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞, SM –º–∞—î –Ω–∞–±–∞–≥–∞—Ç–æ –±—ñ–ª—å—à–µ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, SM —É NVIDIA Tesla V100 –º–∞—î 65536 —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ —É —Å–≤–æ—î–º—É —Ñ–∞–π–ª—ñ —Ä–µ—î—Å—Ç—Ä—ñ–≤. –Ø–∫—â–æ –≤–∑—è—Ç–∏ –≤ —Ü—ñ–ª–æ–º—É, –π–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä–æ–≤–∏–π —Ñ–∞–π–ª —Ç–∞–∫–æ–∂ –±—ñ–ª—å—à–∏–π –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –∑–∞–≥–∞–ª—å–Ω–æ—ó —î–º–Ω–æ—Å—Ç—ñ, –Ω–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ —Ç–µ, —â–æ 4-–±–∞–π—Ç–æ–≤—ñ —Ä–µ–≥—ñ—Å—Ç—Ä–∏ SM –º—ñ—Å—Ç—è—Ç—å –ª–∏—à–µ –æ–¥–Ω–µ —á–∏—Å–ª–æ –∑ –ø–ª–∞–≤–∞—é—á–æ—é —Ç–æ—á–∫–æ—é, —Ç–æ–¥—ñ —è–∫ –≤–µ–∫—Ç–æ—Ä–Ω—ñ —Ä–µ–≥—ñ—Å—Ç—Ä–∏ –≤ —è–¥—Ä—ñ Intel AVX-512 –º—ñ—Å—Ç—è—Ç—å 16 —á–∏—Å–µ–ª –∑ –ø–ª–∞–≤–∞—é—á–æ—é —Ç–æ—á–∫–æ—é.

–ê–ª–µ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∏ –º–∞—é—Ç—å –ø–µ—Ä–µ–≤–∞–≥—É –≤ –∑–∞–≥–∞–ª—å–Ω–æ–º—É —Ä–æ–∑–º—ñ—Ä—ñ –∫–µ—à—É. –ö–æ–∂–Ω–µ —è–¥—Ä–æ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ Intel –æ—Å–Ω–∞—â–µ–Ω–æ –∫–µ—à–∞–º–∏ –¥–∞–Ω–∏—Ö L1 —ñ L2, —ñ —Ä–æ–∑–º—ñ—Ä —Ü–∏—Ö –∫–µ—à-–ø–∞–º‚Äô—è—Ç–µ–π –ø–ª—é—Å –π–æ–≥–æ —á–∞—Å—Ç–∫–∞ —Å–ø—ñ–ª—å–Ω–æ–≥–æ –∫–µ—à—É L3 –ª–µ–≥–∫–æ –ø–µ—Ä–µ–≤–∏—â—É—î —Ä–æ–∑–º—ñ—Ä –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–∏—Ö –∫–µ—à-–ø–∞–º‚Äô—è—Ç–µ–π —É GPU. –ù–∞ —Ä–∏—Å—É–Ω–∫—É –ø–æ–∫–∞–∑–∞–Ω–∞ –ø–æ–≤–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—ó –ø–∞–º‚Äô—è—Ç—ñ –≤ Tesla V100. –†–æ–ª—ñ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫–µ—à—É —Ç–∞ –ø–∞–º‚Äô—è—Ç—ñ –±—É–¥–µ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–æ –¥–∞–ª—ñ.


–°—Ç—Ä—ñ–ª–∫–∏ –Ω–∞ –Ω–∞–≤–µ–¥–µ–Ω—ñ–π –¥—ñ–∞–≥—Ä–∞–º—ñ –ø–æ–∫–∞–∑—É—é—Ç—å, —è–∫ —à–∞—Ä–∏ –ø–∞–º‚Äô—è—Ç—ñ –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ —Ä–∞–∑–æ–º. –ó–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, –∑–≤—ñ–¥–∫–∏ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –¥–∞–Ω—ñ, —ó–º, –º–æ–∂–ª–∏–≤–æ, –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –ø–µ—Ä–µ—Å–∫–æ—á–∏—Ç–∏ —á–µ—Ä–µ–∑ –∫—ñ–ª—å–∫–∞ —Ä—ñ–≤–Ω—ñ–≤ –∫–µ—à—É, —â–æ–± —É–≤—ñ–π—Ç–∏ –≤ —Ä–µ–≥—ñ—Å—Ç—Ä–∏ SM —ñ —Å—Ç–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ –¥–ª—è —è–¥–µ—Ä CUDA. –ì–ª–æ–±–∞–ª—å–Ω–∞ –ø–∞–º‚Äô—è—Ç—å (–≤–∫–ª—é—á–Ω–æ –∑ –æ–±–ª–∞—Å—Ç—è–º–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó, —Ç–µ–∫—Å—Ç—É—Ä–Ω–æ—ó —Ç–∞ –ø–æ—Å—Ç—ñ–π–Ω–æ—ó –ø–∞–º‚Äô—è—Ç—ñ) —î –Ω–∞–π–±—ñ–ª—å—à–∏–º —à–∞—Ä–æ–º, –∞–ª–µ –≤—ñ–Ω —Ç–∞–∫–æ–∂ –Ω–∞–π–¥–∞–ª—å—à–∏–π –≤—ñ–¥ SM. 

–û—á–µ–≤–∏–¥–Ω–æ, –±—É–ª–æ –± —Å–ø—Ä–∏—è—Ç–ª–∏–≤–æ, —â–æ–± 4-–±–∞–π—Ç–æ–≤—ñ –æ–ø–µ—Ä–∞–Ω–¥–∏ –ø–æ–¥–æ—Ä–æ–∂—É–≤–∞–ª–∏ —Ä–∞–∑–æ–º —É –≥—Ä—É–ø–∞—Ö –ø–æ 32, –∫–æ–ª–∏ –≤–æ–Ω–∏ —Ä—É—Ö–∞—é—Ç—å—Å—è —Ç—É–¥–∏-—Å—é–¥–∏ –º—ñ–∂ –∫–µ—à–∞–º–∏, —Ä–µ–≥—ñ—Å—Ç—Ä–∞–º–∏ —Ç–∞ —è–¥—Ä–∞–º–∏ CUDA. –ß–æ–º—É? 32 —Ç–æ—á–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≤–∞—Ä–ø—É –∑ 32 –ø–æ—Ç–æ–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ. –¢–æ–º—É —Ü—ñ–ª–∫–æ–º –∑—Ä–æ–∑—É–º—ñ–ª–æ, —â–æ —Ä–æ–∑–º—ñ—Ä —Ä—è–¥–∫–∞ –∫–µ—à—É –≤ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å–æ—Ä—ñ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å 32 —Ö (4 –±–∞–π—Ç–∏) = 128 –±–∞–π—Ç—ñ–≤.


–ó–∞—É–≤–∞–∂—Ç–µ, —â–æ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö –Ω–∞ –ø—Ä–∏—Å—Ç—Ä—ñ–π —ñ –∑ –Ω—å–æ–≥–æ –∑–¥—ñ–π—Å–Ω—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–µ—à L2. –£ –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –Ω–∞–¥—Ö–æ–¥—è—Ç—å —ñ–∑ L2 —É –≤–µ–ª–∏–∫—É –≥–ª–æ–±–∞–ª—å–Ω—É –ø–∞–º‚Äô—è—Ç—å –ø—Ä–∏—Å—Ç—Ä–æ—é.

I—î—Ä–∞—Ä—Ö—ñ—è –ø–∞–º‚Äô—è—Ç—ñ GPU —î –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–æ—é, –Ω—ñ–∂ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞, –æ—Å–∫—ñ–ª—å–∫–∏ –≥—Ä–∞—Ñ—ñ—á–Ω–∏–π –ø—Ä–æ—Ü–µ—Å–æ—Ä —Ä–µ–∑–µ—Ä–≤—É—î –ø–µ–≤–Ω—ñ –æ–±–ª–∞—Å—Ç—ñ –ø–∞–º‚Äô—è—Ç—ñ –¥–ª—è —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—ñ–¥ —á–∞—Å –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó.  

---

class: middle

# –í–±—É–¥–æ–≤–∞–Ω–∞ –ø–∞–º'—è—Ç—å

- Register File
- L1 Cache
- Shared Memory
- Constant Caches

.footnote[–î–∂–µ—Ä–µ–ª–æ —Å–ª–∞–π–¥—É: [Understanding GPU Architecture: Memory Levels](https://cvw.cac.cornell.edu/GPUarch/memory_levels)]

???

–í–±—É–¥–æ–≤–∞–Ω–∞ –ø–∞–º'—è—Ç—å (on-chip memory)

*Register File (—Ñ–∞–π–ª —Ä–µ—î—Å—Ç—Ä—É)* &mdash; –ø–æ–∑–Ω–∞—á–∞—î –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ, —è–∫–∞ –Ω–∞–¥—Ö–æ–¥–∏—Ç—å –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –¥–æ —è–¥–µ—Ä CUDA. –í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ, –≤—ñ–Ω –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–∏–π —É –≥—Ä—É–ø—É –∑ 32 –±–∞–Ω–∫–∏, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å 32 –ø–æ—Ç–æ–∫–∞–º –≤–∞—Ä–ø—É. –ú–∏ –º–æ–∂–µ–º–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ —Ñ–∞–π–ª —Ä–µ—î—Å—Ç—Ä—É —è–∫ –≤–µ–ª–∏–∫—É –º–∞—Ç—Ä–∏—Ü—é –∑ 4-–±–∞–π—Ç–æ–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —è–∫–∞ –º–∞—î –±–∞–≥–∞—Ç–æ —Ä—è–¥–∫—ñ–≤ —ñ 32 —Å—Ç–æ–≤–ø—Ü—ñ. –í–∞—Ä–ø –ø—Ä–∞—Ü—é—î –Ω–∞ –ø–æ–≤–Ω–∏—Ö —Ä—è–¥–∫–∞—Ö; —É –ø–µ–≤–Ω–æ–º—É —Ä—è–¥–∫—É –∫–æ–∂–µ–Ω –ø–æ—Ç—ñ–∫ (—è–¥—Ä–æ CUDA) –ø—Ä–∞—Ü—é—î –∑ —ñ–Ω—à–∏–º —Å—Ç–æ–≤–ø—Ü–µ–º (–±–∞–Ω–∫–æ–º).

*–ö–µ—à-–ø–∞–º'—è—Ç—å L1*  &mdash; —Ü–µ –∑–≤–∏—á–∞–π–Ω–µ –º—ñ—Å—Ü–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –Ω–∞ –º—ñ–∫—Ä–æ—Å—Ö–µ–º—ñ, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î —à–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö, –Ω–µ—â–æ–¥–∞–≤–Ω–æ –∑—á–∏—Ç–∞–Ω–∏—Ö –∞–±–æ –∑–∞–ø–∏—Å–∞–Ω–∏—Ö —É –æ—Å–Ω–æ–≤–Ω—É –ø–∞–º'—è—Ç—å (RAM). –ö—Ä—ñ–º —Ç–æ–≥–æ, L1 —Å–ª—É–∂–∏—Ç—å –æ–±–ª–∞—Å—Ç—é –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è, –∫–æ–ª–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–≤–∏—â—É—î —Ç–µ, —â–æ –º–æ–∂–µ –≤–º—ñ—Å—Ç–∏—Ç–∏ —Ñ–∞–π–ª —Ä–µ—î—Å—Ç—Ä—É SM, —É–º–æ–≤–∞, —è–∫–∞ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è "—Ä–æ–∑–ª–∏–≤–æ–º —Ä–µ—î—Å—Ç—Ä—É". –£ L1 —Ä—è–¥–∫–∏ –∫–µ—à—É —Ç–∞ —Ä–æ–∑–ª–∏—Ç—ñ —Ä–µ–≥—ñ—Å—Ç—Ä–∏ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω—ñ –≤ –±–∞–Ω–∫–∏, —è–∫ —ñ —É —Ñ–∞–π–ª—ñ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤.

*Shared Memory (c–ø—ñ–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å)* &mdash; —Ü–µ –æ–±–ª–∞—Å—Ç—å –ø–∞–º'—è—Ç—ñ, —è–∫–∞ —Ñ—ñ–∑–∏—á–Ω–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ç—ñ–π —Å–∞–º—ñ–π –ø–∞–º'—è—Ç—ñ, —â–æ –π –∫–µ—à L1, –∞–ª–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ L1 —Ç–∏–º, —â–æ –≤—Å—ñ —ó—ó –¥–∞–Ω—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –±—É–¥—å-—è–∫–æ–º—É –ø–æ—Ç–æ–∫—É –≤ –±–ª–æ—Ü—ñ –ø–æ—Ç–æ–∫—É. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –ø–æ—Ç–æ–∫–∞–º —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è —Ç–∞ –æ–±–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –¥–∞–Ω–∏–º–∏ –æ–¥–∏–Ω –∑ –æ–¥–Ω–∏–º. –ó–º—ñ–Ω–Ω—ñ, —è–∫—ñ –π–æ–≥–æ –∑–∞–π–º–∞—é—Ç—å, –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ —è–≤–Ω–æ –æ–≥–æ–ª–æ—à–µ–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–æ—é. –ü—Ä–æ–≥—Ä–∞–º–∞ —Ç–∞–∫–æ–∂ –º–æ–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –º–µ–∂—É –º—ñ–∂ L1 —ñ —Å–ø—ñ–ª—å–Ω–æ—é –ø–∞–º'—è—Ç—Ç—é.

*–ö–µ—à—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç (Constant Caches)* &mdash; —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –∫–µ—à—ñ, —â–æ —Å—Ç–æ—Å—É—é—Ç—å—Å—è –∑–º—ñ–Ω–Ω–∏—Ö, –æ–≥–æ–ª–æ—à–µ–Ω–∏—Ö —è–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –ª–∏—à–µ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ñ–π –ø–∞–º'—è—Ç—ñ. –¢–∞–∫—ñ –∑–º—ñ–Ω–Ω—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω—ñ –±—É–¥—å-—è–∫–∏–º –ø–æ—Ç–æ–∫–æ–º —É –±–ª–æ—Ü—ñ –ø–æ—Ç–æ–∫—É. –û—Å–Ω–æ–≤–Ω–∏–º —ñ –Ω–∞–π–∫—Ä–∞—â–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ü–∏—Ö –∫–µ—à—ñ–≤ —î —Ç—Ä–∞–Ω—Å–ª—è—Ü—ñ—è –æ–¥–Ω–æ–≥–æ –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤ —É –≤–∞—Ä–ø.

---


class: middle

# –í—ñ–¥–¥–∞–ª–µ–Ω–∞ –ø–∞–º'—è—Ç—å

- L2 Cache
- Global Memory
- Local Memory
- Texture and Constant Memory

.footnote[–î–∂–µ—Ä–µ–ª–æ —Å–ª–∞–π–¥—É: [Understanding GPU Architecture: Memory Levels](https://cvw.cac.cornell.edu/GPUarch/memory_levels)]

???

–¶–µ–π —Å–ø–∏—Å–æ–∫ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –±—ñ–ª—å—à –≤—ñ–¥–¥–∞–ª–µ–Ω–∏—Ö, –±—ñ–ª—å—à–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π –ø–∞–º‚Äô—è—Ç—ñ, —è–∫—ñ —î —Å–ø—ñ–ª—å–Ω–∏–º–∏ –¥–ª—è –≤—Å—ñ—Ö SM.

*–ö–µ—à-–ø–∞–º'—è—Ç—å L2 (L2 Cache)*  &mdash;  —Ü–µ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –≤–±—É–¥–æ–≤–∞–Ω–∏–π –∫–µ—à-–ø–∞–º'—è—Ç—å –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–ø—ñ–π –¥–∞–Ω–∏—Ö, —è–∫—ñ –ø–µ—Ä–µ–º—ñ—â—É—é—Ç—å—Å—è –º—ñ–∂ SM —Ç–∞ –æ—Å–Ω–æ–≤–Ω–æ—é –ø–∞–º'—è—Ç—Ç—é. –Ø–∫ —ñ L1, –∫–µ—à L2 –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å. –ê–ª–µ –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –∫–µ—à-–ø–∞–º‚Äô—è—Ç—ñ L1, —ñ—Å–Ω—É—î –ª–∏—à–µ –æ–¥–∏–Ω L2, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–ø—ñ–ª—å–Ω–æ –¥–ª—è –≤—Å—ñ—Ö SM. –ö–µ—à L2 —Ç–∞–∫–æ–∂ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∏–π –Ω–∞ —à–ª—è—Ö—É –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ –ø—Ä–∏—Å—Ç—Ä—ñ–π –∞–±–æ –∑ –Ω—å–æ–≥–æ —á–µ—Ä–µ–∑ PCIe –∞–±–æ NVLink.

*–ì–ª–æ–±–∞–ª—å–Ω–∞ –ø–∞–º‚Äô—è—Ç—å* ‚Äî —Ü–µ –æ—Å–Ω–æ–≤–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ—ó –ø–∞–º‚Äô—è—Ç—ñ –ø—Ä–∏—Å—Ç—Ä–æ—é, –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–∞ –û–ó–£ (RAM) –≤ CPU. –ó –º—ñ—Ä–∫—É–≤–∞–Ω—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ Tesla V100 –º–∞—î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—É –ø–∞–º‚Äô—è—Ç—å HBM2 –∑ –≤–∏—Å–æ–∫–æ—é –ø—Ä–æ–ø—É—Å–∫–Ω–æ—é –∑–¥–∞—Ç–Ω—ñ—Å—Ç—é, —Ç–æ–¥—ñ —è–∫ Quadro RTX 5000 –º–∞—î —à–≤–∏–¥–∫—É –≥—Ä–∞—Ñ—ñ—á–Ω—É –ø–∞–º‚Äô—è—Ç—å GDDR6.

*–õ–æ–∫–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å* - –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–∏–º –æ–±–ª–∞—Å—Ç—è–º –æ—Å–Ω–æ–≤–Ω–æ—ó –ø–∞–º'—è—Ç—ñ, —è–∫—ñ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –∫–æ–∂–Ω–æ–º—É SM. –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ ¬´—Ä–æ–∑–ª–∏–≤ —Ä–µ—î—Å—Ç—Ä—É¬ª –ø–µ—Ä–µ–ø–æ–≤–Ω—é—î –∫–µ—à L1 –Ω–∞ –ø–µ–≤–Ω–æ–º—É SM, –∑–∞–π–≤—ñ –¥–∞–Ω—ñ –¥–∞–ª—ñ –≤–∏–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –¥–æ L2, –∞ –ø–æ—Ç—ñ–º —É ¬´–ª–æ–∫–∞–ª—å–Ω—É –ø–∞–º‚Äô—è—Ç—å¬ª. 

–¢–µ–∫—Å—Ç—É—Ä–∞ —Ç–∞ –ø–æ—Å—Ç—ñ–π–Ω–∞ –ø–∞–º‚Äô—è—Ç—å ‚Äì —Ü–µ –æ–±–ª–∞—Å—Ç—ñ –æ—Å–Ω–æ–≤–Ω–æ—ó –ø–∞–º‚Äô—è—Ç—ñ, —è–∫—ñ –ø—Ä–∏—Å—Ç—Ä—ñ–π —Ä–æ–∑–≥–ª—è–¥–∞—î —è–∫ –¥–æ—Å—Ç—É–ø–Ω—ñ –ª–∏—à–µ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è. –ü—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –≤ SM –∑–º—ñ–Ω–Ω—ñ –∑ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è–º "—Ç–µ–∫—Å—Ç—É—Ä–∏" –∞–±–æ "–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏" –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω—ñ –±—É–¥—å-—è–∫–∏–º –ø–æ—Ç–æ–∫–æ–º —É –±–ª–æ—Ü—ñ –ø–æ—Ç–æ–∫—É, –ø–æ–¥—ñ–±–Ω–æ –¥–æ —Å–ø—ñ–ª—å–Ω–æ—ó –ø–∞–º'—è—Ç—ñ. –¢–µ–∫—Å—Ç—É—Ä–Ω–∞ –ø–∞–º'—è—Ç—å –∫–µ—à—É—î—Ç—å—Å—è –≤ L1, —Ç–æ–¥—ñ —è–∫ –ø–æ—Å—Ç—ñ–π–Ω–∞ –ø–∞–º'—è—Ç—å –∫–µ—à—É—î—Ç—å—Å—è –≤ –∫–µ—à—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç.


---




class: middle

# –†–æ–∑–º—ñ—Ä —ñ –ø—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å

.center.width-90[![](figures/lec5/gpu_anatomy.png)]

.footnote[–î–∂–µ—Ä–µ–ª–æ —Å–ª–∞–π–¥—É: [GPU Memory bandwidth](https://blog.paperspace.com/gpu-memory-bandwidth/)]

???
–†–æ–∑–º—ñ—Ä –ø–∞–º'—è—Ç—ñ —Ç–∞ –ø—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å —î –≤–∞–∂–ª–∏–≤–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ CUDA, —è–∫—ñ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –∑–Ω–∞—á–Ω–∏–π –≤–ø–ª–∏–≤ –Ω–∞ –π–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

–†–æ–∑–º—ñ—Ä –ø–∞–º‚Äô—è—Ç—ñ –æ–∑–Ω–∞—á–∞—î –æ–±—Å—è–≥ –ø–∞–º‚Äô—è—Ç—ñ, –¥–æ—Å—Ç—É–ø–Ω–æ—ó –Ω–∞ GPU –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π. –û–±—Å—è–≥ –ø–∞–º‚Äô—è—Ç—ñ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞, —è–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–∞–±–∞–≥–∞—Ç–æ –±—ñ–ª—å—à–∏–π, –Ω—ñ–∂ —Ä–æ–∑–º—ñ—Ä –ø–∞–º‚Äô—è—Ç—ñ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞, —ñ –º–æ–∂–µ –∫–æ–ª–∏–≤–∞—Ç–∏—Å—è –≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Ö –≥—ñ–≥–∞–±–∞–π—Ç –¥–æ –¥–µ—Å—è—Ç–∫—ñ–≤ –≥—ñ–≥–∞–±–∞–π—Ç, –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –º–æ–¥–µ–ª—ñ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞. –û–±—Å—è–≥ –ø–∞–º‚Äô—è—Ç—ñ, –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è –ø–µ–≤–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏, –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É –Ω–∞–±–æ—Ä—É –¥–∞–Ω–∏—Ö, —â–æ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è, —ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è. –Ø–∫—â–æ –Ω–∞–±—ñ—Ä –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–≤–∏—â—É—î –æ–±—Å—è–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—ó –ø–∞–º‚Äô—è—Ç—ñ, –ø—Ä–æ–≥—Ä–∞–º—ñ –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç–∞–∫—ñ –º–µ—Ç–æ–¥–∏, —è–∫ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–∞–º‚Äô—è—Ç—ñ (memory paging) –∞–±–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü—ñ—è (chunking), —â–æ–± –æ–±—Ä–æ–±–∏—Ç–∏ –¥–∞–Ω—ñ –º–µ–Ω—à–∏–º–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏.

–ü—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–∞–º‚Äô—è—Ç—ñ –æ–∑–Ω–∞—á–∞—î —à–≤–∏–¥–∫—ñ—Å—Ç—å, –∑ —è–∫–æ—é –¥–∞–Ω—ñ –º–æ–∂—É—Ç—å –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏—Å—è –º—ñ–∂ –ø–∞–º‚Äô—è—Ç—Ç—é GPU —Ç–∞ –±–ª–æ–∫–∞–º–∏ –æ–±—Ä–æ–±–∫–∏ GPU. –í–∏—â–∞ –ø—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–∞–º‚Äô—è—Ç—ñ –∑–∞–±–µ–∑–ø–µ—á—É—î —à–≤–∏–¥—à—É –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–∏—Ö, —â–æ –º–æ–∂–µ –ø—ñ–¥–≤–∏—â–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º, —è–∫—ñ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ø–∞–º‚Äô—è—Ç—ñ. –ü—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –ø–∞–º‚Äô—è—Ç—ñ GPU –∑–∞–∑–≤–∏—á–∞–π –≤–∏–º—ñ—Ä—é—î—Ç—å—Å—è –≤ –≥—ñ–≥–∞–±–∞–π—Ç–∞—Ö –Ω–∞ —Å–µ–∫—É–Ω–¥—É (–ì–ë/—Å) —ñ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç–∞–∫–∏—Ö —Ñ–∞–∫—Ç–æ—Ä—ñ–≤, —è–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è –ø–∞–º‚Äô—è—Ç—ñ, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, —Ç–∞–∫—Ç–æ–≤–∞ —á–∞—Å—Ç–æ—Ç–∞ –ø–∞–º‚Äô—è—Ç—ñ —Ç–∞ —à–∏—Ä–∏–Ω–∞ —à–∏–Ω–∏ –ø–∞–º‚Äô—è—Ç—ñ.

–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞–º'—è—Ç—ñ GPU —Ç–∞–∫–æ–∂ –º–æ–∂–µ –≤–ø–ª–∏–≤–∞—Ç–∏ –Ω–∞ –π–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–µ—è–∫—ñ –≥—Ä–∞—Ñ—ñ—á–Ω—ñ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∏ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –ø–∞–º‚Äô—è—Ç—ñ, –¥–µ –æ–¥–Ω–∞ –π —Ç–∞ —Å–∞–º–∞ –ø–∞–º‚Äô—è—Ç—å —Å–ø—ñ–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –º—ñ–∂ –≥—Ä–∞—Ñ—ñ—á–Ω–∏–º —ñ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–º –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞–º–∏, –∞ —ñ–Ω—à—ñ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –æ–∫—Ä–µ–º—É –ø–∞–º‚Äô—è—Ç—å –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —ñ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å–æ—Ä—ñ–≤. –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞–º‚Äô—è—Ç—ñ –º–æ–∂–µ —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—Ç—é, –∞–ª–µ —Ü–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –∑–Ω–∏–∂–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —á–µ—Ä–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–ø—ñ–ª—å–Ω–æ—é –ø–∞–º‚Äô—è—Ç—Ç—é.

–†—ñ–∑–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ø–∞–º'—è—Ç—ñ –º–∞—é—Ç—å —Ä—ñ–∑–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —ñ –ø—Ä–æ–ø—É—Å–∫–Ω—É –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å. –ì–ª–æ–±–∞–ª—å–Ω–∞ –ø–∞–º‚Äô—è—Ç—å –º–∞—î –Ω–∞–π–Ω–∏–∂—á—É –ø—Ä–æ–ø—É—Å–∫–Ω—É –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å, –∞–ª–µ –Ω–∞–π–±—ñ–ª—å—à–∏–π —Ä–æ–∑–º—ñ—Ä –ø–∞–º‚Äô—è—Ç—ñ. –ü–æ–±–ª–æ—á–Ω–∞ —Å–ø—ñ–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å —à–≤–∏–¥—à–∞, –Ω—ñ–∂ –≥–ª–æ–±–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å —ñ –ø–æ—Å—Ç—ñ–π–Ω–∞ –ø–∞–º'—è—Ç—å, –∞–ª–µ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∞, –Ω—ñ–∂ —Ä–µ–≥—ñ—Å—Ç—Ä–∏ –ø–æ—Ç–æ–∫—É. –ü–æ—Ç–æ–∫–æ–≤—ñ —Ä–µ–≥—ñ—Å—Ç—Ä–∏ –º–æ–∂—É—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ª–∏—à–µ –Ω–µ–≤–µ–ª–∏–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö, –∞–ª–µ —î –Ω–∞–π—à–≤–∏–¥—à–∏–º–∏. –ü–æ—Ç–æ–∫–æ–≤–∞ –ª–æ–∫–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å –ø—Ä–∞—Ü—é—î –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ, –Ω—ñ–∂ —Ä–µ–≥—ñ—Å—Ç—Ä–∏, —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, —è–∫—ñ –Ω–µ –º–æ–∂—É—Ç—å –ø–æ–º—ñ—Å—Ç–∏—Ç–∏—Å—è –≤ —Ä–µ–≥—ñ—Å—Ç—Ä.

–ó–∞–≥–∞–ª–æ–º, —Ä–æ–∑–º—ñ—Ä –ø–∞–º‚Äô—è—Ç—ñ —Ç–∞ –ø—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ CUDA —î –≤–∞–∂–ª–∏–≤–∏–º–∏ —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏, —è–∫—ñ —Å–ª—ñ–¥ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –∑–Ω–∞—á–Ω–∏–π –≤–ø–ª–∏–≤ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–∏.

---

class: middle

# –ö–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ç–æ—Ä–∏

| Qualifiers                                | Location  | Scope   | Lifespan    |
|-------------------------------------------|-----------|---------|-------------|
| Automatic variable                        | Register  | Thread  | Kernel      |
| Automatic array                           | Local     | Thread  | Kernel      |
| `__device__` ,` __shared__` , int SharedVar   | Shared    | Block   | Kernel      |
| `__device__` , int GlobalVar                | Global    | Grid    | Application |
| `__device__` , `__constant__` , int ConstVar  | Constant  | Grid    | Application |


.footnote[–î–∂–µ—Ä–µ–ª–æ —Å–ª–∞–π–¥—É:  [Introduction to GPGPU and CUDA Programming: Memory Architecture](https://cvw.cac.cornell.edu/gpu/memory_arch)]

???

CUDA –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –∫–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤ –¥–ª—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Ä—ñ–∑–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –ø–∞–º‚Äô—è—Ç—ñ. –†—ñ–∑–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ø–∞–º'—è—Ç—ñ —Ç–∞–∫–æ–∂ –º–∞—é—Ç—å —Ç–µ—Ä–º—ñ–Ω —Å–ª—É–∂–±–∏. –£ –Ω–∞–≤–µ–¥–µ–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ –ø–æ–¥–∞–Ω–æ —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω–æ –æ–±—Å—è–≥, —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∂–∏—Ç—Ç—è —Ç–∞ —Ç–∏–ø –ø–∞–º‚Äô—è—Ç—ñ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∫–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤.

---


class: middle

# Automatic Variables
.center.larger-xx[
```c++
int autovar;

```
]

???
–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–º—ñ–Ω–Ω–∞ –æ–≥–æ–ª–æ—à—É—î—Ç—å—Å—è –±–µ–∑ –±—É–¥—å-—è–∫–∏—Ö –∫–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤. –í–æ–Ω–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–µ–≥—ñ—Å—Ç—Ä—ñ –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É —ñ –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏—à–µ –¥–ª—è —Ü—å–æ–≥–æ –ø–æ—Ç–æ–∫—É.

---

class: middle

# Automatic Arrays
.center.larger-xx[
```c++
int autoarr[];

```
]

???
–ó–º—ñ–Ω–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –º–∞—Å–∏–≤—É –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—ñ–π –ø–∞–º‚Äô—è—Ç—ñ –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É —ñ –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏—à–µ —Ü—å–æ–º—É –ø–æ—Ç–æ–∫—É. –û–¥–Ω–∞–∫ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –º–æ–∂–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –º–∞—Å–∏–≤–∏ –≤ —Ä–µ–≥—ñ—Å—Ç—Ä–∞—Ö, —è–∫—â–æ –≤–µ—Å—å –¥–æ—Å—Ç—É–ø –∑–¥—ñ–π—Å–Ω—é—î—Ç—å—Å—è –∑ –ø–æ—Å—Ç—ñ–π–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ —ñ–Ω–¥–µ–∫—Å—ñ–≤. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–∞—Å–∏–≤ –º–æ–∂–Ω–∞ –æ–≥–æ–ª–æ—Å–∏—Ç–∏ —Ç–∞–∫–∏–º —á–∏–Ω–æ–º.

---


class: middle

# `__shared__`

.larger-x[
```c++
__shared__ int shvar;

//is the same as

__device__ __shared__ int shvar2;


```
]

???
–î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ç–æ—Ä–∞ —Ç–∏–ø—É –∑–º—ñ–Ω–Ω–æ—ó __shared__ —è–≤–Ω–æ –æ–≥–æ–ª–æ—à—É—î, —â–æ –∑–º—ñ–Ω–Ω–∞ —î —Å–ø—ñ–ª—å–Ω–æ—é –≤ –º–µ–∂–∞—Ö –±–ª–æ–∫—É –ø–æ—Ç–æ–∫—É. –í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –∫–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ç–æ—Ä —Ç–∏–ø—É –∑–º—ñ–Ω–Ω–æ—ó __device__, —â–æ–± –¥–æ—Å—è–≥—Ç–∏ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ –µ—Ñ–µ–∫—Ç—É.

---

class: middle

# `__device__`

.center.larger-xx[
```c++
__device__ int dvvar;

```
]

???
–ö–æ–ª–∏ –∫–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ç–æ—Ä __device__ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–∞–º –ø–æ —Å–æ–±—ñ, –≤—ñ–Ω –æ–≥–æ–ª–æ—à—É—î, —â–æ –∑–º—ñ–Ω–Ω–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ñ–π –ø–∞–º‚Äô—è—Ç—ñ.

---


class: middle

# `__constant__`

.larger-x[
```c++
__constant__ int cnvar;

//is the same as

__device__ __constant__ int cnvar2;


```
]

???
–î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ç–æ—Ä–∞ __constant__ –æ–≥–æ–ª–æ—à—É—î –ø–æ—Å—Ç—ñ–π–Ω—É –∑–º—ñ–Ω–Ω—É, —è–∫–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø–∞–º‚Äô—è—Ç—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç. –í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π __device__, —â–æ–± –¥–æ—Å—è–≥—Ç–∏ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ –µ—Ñ–µ–∫—Ç—É. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞ –∑–º—ñ–Ω–Ω–∞ –º–∞—î –±—É—Ç–∏ –æ–≥–æ–ª–æ—à–µ–Ω–∞ –ø–æ–∑–∞ —Ç—ñ–ª–æ–º –±—É–¥—å-—è–∫–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó.

---


class: middle

# –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –∑–∞ –∞–¥—Ä–µ—Å–æ—é

.larger-xx[
```c++
float *ptr= &GlobalVar;

```
]

???
–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –ø—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ –∞–¥—Ä–µ—Å—É –∑–º—ñ–Ω–Ω–æ—ó, –æ–≥–æ–ª–æ—à–µ–Ω–æ—ó –≤ —Å–ø—ñ–ª—å–Ω—ñ–π, –ø–æ—Å—Ç—ñ–π–Ω—ñ–π –∞–±–æ –≥–ª–æ–±–∞–ª—å–Ω—ñ–π –ø–∞–º'—è—Ç—ñ, –∑–º—ñ–Ω–Ω—ñ–π-–≤–∫–∞–∑—ñ–≤–Ω–∏–∫—É.

---


class: middle
# –õ—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞

PMPP Ch. 4, pp. 71-101

[.center.width-50[![](figures/course-details/programming-massively-parallel-processors-kirk.png)]](https://www.amazon.com/Programming-Massively-Parallel-Processors-Hands/dp/0128119861/ref=sr_1_fkmr0_2?crid=2YR2Y8FMYMZRB&keywords=Programming+Massively+Parallel+Processors%3A+A+Hands-on+Approach+3rd+Edition&qid=1643962972&s=books&sprefix=programming+massively+parallel+processors+a+hands-on+approach+3rd+edition+%2Cstripbooks-intl-ship%2C171&sr=1-2-fkmr0)



---

class: end-slide, center
count: false

.larger-xx[–ö—ñ–Ω–µ—Ü—å üèÅ]

